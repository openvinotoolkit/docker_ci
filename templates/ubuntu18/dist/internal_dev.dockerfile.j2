# internal package

RUN ${INTEL_OPENVINO_DIR}/install_dependencies/install_openvino_dependencies.sh -y

WORKDIR ${INTEL_OPENVINO_DIR}
ARG OPENVINO_WHEELS_URL
RUN ${PYTHON_VER} -m pip install --no-cache-dir cmake && \
    if [ -z "$OPENVINO_WHEELS_URL" ]; then \
        ${PYTHON_VER} -m pip install --no-cache-dir openvino=={{ product_version }} && \
        ${PYTHON_VER} -m pip install --no-cache-dir openvino_dev=={{ product_version }} ; \
    else \
        ${PYTHON_VER} -m pip install --no-cache-dir openvino=={{ product_version }} --trusted-host=* --find-links "$OPENVINO_WHEELS_URL" && \
        ${PYTHON_VER} -m pip install --no-cache-dir openvino_dev=={{ product_version }} --trusted-host=* --find-links "$OPENVINO_WHEELS_URL" ; \
    fi

WORKDIR ${INTEL_OPENVINO_DIR}/licensing
# Please use `third-party-programs-docker-dev.txt` short path to 3d party file if you use the Dockerfile directly from docker_ci/dockerfiles repo folder
COPY dockerfiles/{{os}}/third-party-programs-docker-dev.txt ${INTEL_OPENVINO_DIR}/licensing
COPY dockerfiles/{{os}}/third-party-programs-docker-runtime.txt ${INTEL_OPENVINO_DIR}/licensing
COPY dockerfiles/{{os}}/third-party-programs-docker-data-dev.txt ${INTEL_OPENVINO_DIR}/licensing
COPY dockerfiles/{{os}}/third-party-programs-docker-data-runtime.txt ${INTEL_OPENVINO_DIR}/licensing